{% extends 'navbar.html' %}
{% block title %}Reviews{% endblock %}
{% block content %}
<main class="content">
    <div class="containers">
        <h2 class="text-center">Reviews</h2>
        
        <div class="text-center mb-4">
            <p class="lead">Add a review</p>
            <a href="{{ url_for('add_review') }}" class="btn btn-primary">Review Someone</a>
        </div>

        <h3 class="section-title">Your Reviews from Others</h3>
        {% if my_reviews|length == 0 %}
            <p class="no-reviews">No one has reviewed you yet.</p>
        {% else %}
            <div class="reviews">
                {% for myReview in my_reviews %}
                    <div class="review card">
                        <div class="card-body">
                            <h5 class="card-title">{{myReview.userfrom}}</h5>
                            <p class="card-text"><strong>Rating:</strong> {{myReview.rating}}/5</p>
                            <p class="card-text"><strong>Message:</strong> {{myReview.message}}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <h3 class="section-title">Your Reviews to Others</h3>
        {% if other_reviews|length == 0 %}
            <p class="no-reviews">You have not reviewed anyone yet.</p>
        {% else %}
            <div class="reviews">
                {% for myReview in other_reviews %}
                    <div class="review card">
                        <div class="card-body">
                            <h5 class="card-title">{{myReview.userto}}</h5> <!-- Assuming 'userto' is the recipient of the review -->
                            <p class="card-text"><strong>Rating:</strong> {{myReview.rating}}/5</p>
                            <p class="card-text"><strong>Message:</strong> {{myReview.message}}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</main>

<style>
    .content {
        padding-top: 20px;
        background-color: #f9f9f9;
    }
    .containers {
        max-width: 800px;
        margin: auto;
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .text-center {
        text-align: center;
    }
    .mb-4 {
        margin-bottom: 20px;
    }
    .btn-primary {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .btn-primary:hover {
        background-color: #0056b3;
    }
    .section-title {
        margin-top: 40px;
        margin-bottom: 20px;
        font-size: 1.5rem;
        color: #333;
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
    }
    .no-reviews {
        color: #666;
        font-style: italic;
    }
    .reviews {
        margin-top: 20px;
    }
    .review {
        margin-bottom: 15px;
    }
    .card {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card-body {
        padding: 15px;
    }
    .card-title {
        margin-bottom: 10px;
        font-size: 1.2rem;
        color: #333;
    }
    .card-text {
        margin-bottom: 10px;
        color: #555;
    }
    .card-text strong {
        color: #000;
    }
</style>
{% endblock %}
